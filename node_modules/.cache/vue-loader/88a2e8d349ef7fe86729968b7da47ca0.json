{"remainingRequest":"E:\\Firefox-latest\\webstorm\\supermall-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Firefox-latest\\webstorm\\supermall-master\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Firefox-latest\\webstorm\\supermall-master\\src\\views\\home\\Home.vue","mtime":1615051322827},{"path":"E:\\Firefox-latest\\webstorm\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Firefox-latest\\webstorm\\supermall-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Firefox-latest\\webstorm\\supermall-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Firefox-latest\\webstorm\\supermall-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZCYXIgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhciI7CmltcG9ydCBIb21lU3dpcGVyIGZyb20gIi4vY2hpbGRDb21wcy9Ib21lU3dpcGVyIjsKaW1wb3J0IEhvbWVSZWNvbW1lbmQgZnJvbSAiLi9jaGlsZENvbXBzL0hvbWVSZWNvbW1lbmQiOwppbXBvcnQgSG9tZUZlYXR1cmVWaWV3IGZyb20gIi4vY2hpbGRDb21wcy9Ib21lRmVhdHVyZVZpZXciOwppbXBvcnQgVGFiQ29udHJvbCBmcm9tICIuLi8uLi9jb21wb25lbnRzL2NvbnRlbnRzL3RhYkNvbnRyb2wvVGFiQ29udHJvbCI7CmltcG9ydCBHb29kc0xpc3QgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9jb250ZW50cy9nb29kL0dvb2RzTGlzdCI7CmltcG9ydCBTY3JvbGxlciBmcm9tICIuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9zY3JvbGxlci9TY3JvbGxlciI7CmltcG9ydCBCYWNrVG9wIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvY29udGVudHMvYmFja1RvcC9CYWNrVG9wIjsKCgoKaW1wb3J0IHtnZXRIb21lTXVsdGlEYXRhLGdldEhvbWVHb29kc30gZnJvbSAiLi4vLi4vbmV0d29yay9ob21lIgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXIsCiAgICBIb21lU3dpcGVyLAogICAgSG9tZVJlY29tbWVuZCwKICAgIEhvbWVGZWF0dXJlVmlldywKICAgIFRhYkNvbnRyb2wsCiAgICBHb29kc0xpc3QsCiAgICBTY3JvbGxlciwKICAgIEJhY2tUb3AKCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFubmVyczogW10sCiAgICAgIHJlY29tbWVuZHM6IFtdLAogICAgICBnb29kczogewogICAgICAgICdwb3AnOiB7cGFnZTogMCwgbGlzdDogW119LAogICAgICAgICduZXcnOiB7cGFnZTogMCwgbGlzdDogW119LAogICAgICAgICdzZWxsJzoge3BhZ2U6IDAsIGxpc3Q6IFtdfSwKCiAgICAgIH0sCiAgICAgIGN1cnJlbnRUeXBlOiAncG9wJywKICAgICAgaXNTaG93QmFja1RvcDpmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgc2hvd0dvb2RzKCkgewogICAgICByZXR1cm4gdGhpcy5nb29kc1t0aGlzLmN1cnJlbnRUeXBlXS5saXN0CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRIb21lTXVsdGlEYXRhKCk7CgoKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdwb3AnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCduZXcnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzKCdzZWxsJyk7CgogICAgdGhpcy4kYnVzLiRvbignaW1hZ2VMb2FkJywoKSA9PnsKCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgYmFja0NsaWNrKCl7CiAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLDApCiAgICB9LAoKICAgIGdldEhvbWVNdWx0aURhdGEoKSB7CiAgICAgIGdldEhvbWVNdWx0aURhdGEoKS50aGVuKHJlcyA9PiB7CgogICAgICAgICAgdGhpcy5iYW5uZXJzID0gcmVzLmRhdGEuYmFubmVyLmxpc3Q7CiAgICAgICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5yZWNvbW1lbmQubGlzdDsKCiAgICAgICAgfQogICAgICApCiAgICB9LAoKICAgIGdldEhvbWVHb29kcyh0eXBlKXsKICAgICAgY29uc3QgcGFnZSA9dGhpcy5nb29kc1t0eXBlXS5wYWdlKzE7CiAgICAgIGdldEhvbWVHb29kcyh0eXBlLHBhZ2UpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLmxpc3QucHVzaCguLi5yZXMuZGF0YS5saXN0KTsKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UrPTE7CiAgICB9KQogICAgfSwKCiAgICB0YWJDbGljayhpbmRleCl7CiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICAgIGNhc2UgMDogdGhpcy5jdXJyZW50VHlwZT0ncG9wJwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxOnRoaXMuY3VycmVudFR5cGU9J25ldycKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMjp0aGlzLmN1cnJlbnRUeXBlPSdzZWxsJwogICAgICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAoKICAgIGNvbnRlbnRTY3JvbGwocG9zaXRpb24pewogICAgICB0aGlzLmlzU2hvd0JhY2tUb3A9KC1wb3NpdGlvbi55KT4xMDAwCiAgICB9LAoKICAgIGxvYWRNb3JlKCl7CiAgICAgIHRoaXMuZ2V0SG9tZUdvb2RzKHRoaXMuY3VycmVudFR5cGUpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<!--<template>-->\n<!--  <div id=\"home\">-->\n<!--    <nav-bar class=\"home-nav-bar\">-->\n<!--      <div slot=\"center\">购物街</div>-->\n<!--    </nav-bar>-->\n<!--&lt;!&ndash; ref 是用于定位元素和取到组件的内容，:是绑定属性 @是绑定方法&ndash;&gt;-->\n<!--    <scroller class=\"home-scroller\" ref=\"scroller\" :probe-type=\"3\" @scroll=\"getPostion\">-->\n<!--      <home-swiper :cbanners=\"banners\"/>-->\n<!--      <home-recommend :cproducts=\"products\"/>-->\n<!--      <home-feature-view/>-->\n<!--      <tab-control class=\"home-tab-control\" :ctitles=\"['流行', '新款', '精选']\" @tabClick=\"pTabClick\"/>-->\n<!--      <goods-list :cgoods=\"showGoods\"/>-->\n<!--    </scroller>-->\n\n<!--    <back-top @click.native=\"backTopClick\" v-show=\"isShowBackTop\" />-->\n<!--  </div>-->\n<!--</template>-->\n\n<!--<script>-->\n<!--    import NavBar from \"components/common/navbar/NavBar\";-->\n<!--    import HomeSwiper from \"./childComps/HomeSwiper\";-->\n<!--    import HomeRecommend from \"./childComps/HomeRecommend\";-->\n<!--    import HomeFeatureView from \"./childComps/HomeFeatureView\";-->\n<!--    import TabControl from \"components/contents/tabControl/TabControl\";-->\n<!--    import GoodsList from \"components/contents/good/GoodsList\";-->\n<!--    import Scroller from \"components/common/scroller/Scroller\";-->\n<!--    import BackTop from \"components/contents/backTop/BackTop\";-->\n\n<!--    import {getHomeMultiData, getGoodsData} from \"network/home\";-->\n\n<!--    export default {-->\n<!--        name: \"Home\",-->\n<!--        components:{-->\n<!--            NavBar,-->\n<!--            HomeSwiper,-->\n<!--            HomeRecommend,-->\n<!--            HomeFeatureView,-->\n<!--            TabControl,-->\n<!--            GoodsList,-->\n<!--            Scroller,-->\n<!--            BackTop-->\n<!--        },-->\n<!--        data() {-->\n<!--          return {-->\n<!--            banners: [],-->\n<!--            products: [],-->\n<!--            goods:{-->\n<!--              pop:{page:0, list:[]},-->\n<!--              new:{page:0, list:[]},-->\n<!--              sell:{page:0, list:[]}-->\n<!--            },-->\n<!--            currentType:'pop',-->\n<!--            isShowBackTop: false-->\n<!--          }-->\n<!--        },-->\n<!--        computed: {-->\n<!--            showGoods() {-->\n<!--                return this.goods[this.currentType].list-->\n<!--            }-->\n<!--        },-->\n<!--        created() {-->\n<!--            this.getHomeData()-->\n\n<!--            this.getHomeGoodsData('pop')-->\n<!--            this.getHomeGoodsData('new')-->\n<!--            this.getHomeGoodsData('sell')-->\n<!--        },-->\n<!--        methods:{-->\n<!--            pTabClick(index) {-->\n<!--                switch (index) {-->\n<!--                  case 0:-->\n<!--                      this.currentType = 'pop'-->\n<!--                      break-->\n<!--                  case 1:-->\n<!--                      this.currentType = 'new'-->\n<!--                      break-->\n<!--                  case 2:-->\n<!--                      this.currentType = 'sell'-->\n<!--                      break-->\n<!--              }-->\n<!--            },-->\n<!--            getHomeData() {-->\n<!--                getHomeMultiData().then(res => {-->\n<!--                    this.banners = res.data.banners-->\n<!--                    this.products = res.data.products-->\n<!--                })-->\n<!--            },-->\n<!--            getHomeGoodsData(type) {-->\n<!--                let page = this.goods[type].page + 1-->\n<!--                getGoodsData(type, page).then(res => {-->\n<!--                    this.goods[type].list.push(...res.goods)-->\n<!--                    this.goods[type].page = res.page-->\n<!--                })-->\n<!--            },-->\n<!--            backTopClick() {-->\n<!--                // 通过$refs拿到组件中的对象-->\n<!--                this.$refs.scroller.scrollTo(0, 0, 500)-->\n<!--            },-->\n<!--            getPostion(postion) {-->\n<!--                this.isShowBackTop = -postion.y > 300-->\n<!--            }-->\n<!--        }-->\n<!--    }-->\n<!--</script>-->\n\n<!--<style scoped>-->\n<!--  #home {-->\n<!--    padding-top: 44px;-->\n<!--    height: 100vh;-->\n<!--    position: relative;-->\n<!--  }-->\n\n<!--  .home-nav-bar {-->\n<!--    background-color: var(&#45;&#45;color-tint);-->\n<!--    color:#fff;-->\n\n<!--    position: fixed;-->\n<!--    left: 0;-->\n<!--    right:0;-->\n<!--    top: 0;-->\n<!--    z-index: 9;-->\n\n<!--  }-->\n\n<!--  .home-tab-control{-->\n<!--    /*两个要混合使用*/-->\n<!--    position: sticky;-->\n<!--    top: 43px;/*顶部navbar的高度*/-->\n<!--    z-index: 9;-->\n<!--  }-->\n\n<!--  .home-scroller{-->\n<!--    /*height:300px;*/-->\n<!--    overflow: hidden;-->\n<!--    position: absolute;-->\n<!--    top: 44px;-->\n<!--    bottom: 49px;-->\n<!--    right: 0;-->\n<!--    left: 0;-->\n<!--  }-->\n\n\n\n<!--</style>-->\n<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\"><div slot=\"center\">购物街</div></nav-bar>\n    <scroller class=\"content\"\n              ref=\"scroll\"\n              :probe-type=\"3\"\n              @scroll=\"contentScroll\"\n              :pull-up-load=\"true\"\n              @pullingUp=\"loadMore\"\n    >\n      <home-swiper :banners=\"banners\"></home-swiper>\n      <home-recommend :recommends=\"recommends\"></home-recommend>\n      <home-feature-view></home-feature-view>\n      <tab-control  class=\"tab-control\"\n                    :titles=\"['流行','新款','精选']\"\n                    @tabClick=\"tabClick\"\n      ></tab-control>\n      <goods-list  :goods=\"showGoods\"></goods-list>\n      <back-top  @click.native=\"backClick\"></back-top>\n    </scroller>\n\n\n\n\n  </div>\n</template>\n\n<script>\n  import NavBar from \"../../components/common/navbar/NavBar\";\n  import HomeSwiper from \"./childComps/HomeSwiper\";\n  import HomeRecommend from \"./childComps/HomeRecommend\";\n  import HomeFeatureView from \"./childComps/HomeFeatureView\";\n  import TabControl from \"../../components/contents/tabControl/TabControl\";\n  import GoodsList from \"../../components/contents/good/GoodsList\";\n  import Scroller from \"../../components/common/scroller/Scroller\";\n  import BackTop from \"../../components/contents/backTop/BackTop\";\n\n\n\n  import {getHomeMultiData,getHomeGoods} from \"../../network/home\"\n\n  export default {\n    name: \"Home\",\n    components: {\n      NavBar,\n      HomeSwiper,\n      HomeRecommend,\n      HomeFeatureView,\n      TabControl,\n      GoodsList,\n      Scroller,\n      BackTop\n\n    },\n    data() {\n      return {\n        banners: [],\n        recommends: [],\n        goods: {\n          'pop': {page: 0, list: []},\n          'new': {page: 0, list: []},\n          'sell': {page: 0, list: []},\n\n        },\n        currentType: 'pop',\n        isShowBackTop:false\n      }\n    },\n    computed:{\n      showGoods() {\n        return this.goods[this.currentType].list\n      }\n    },\n    created() {\n      this.getHomeMultiData();\n\n\n      this.getHomeGoods('pop');\n      this.getHomeGoods('new');\n      this.getHomeGoods('sell');\n\n      this.$bus.$on('imageLoad',() =>{\n\n      })\n    },\n    methods: {\n      backClick(){\n      this.$refs.scroll.scrollTo(0,0)\n      },\n\n      getHomeMultiData() {\n        getHomeMultiData().then(res => {\n\n            this.banners = res.data.banner.list;\n            this.recommends = res.data.recommend.list;\n\n          }\n        )\n      },\n\n      getHomeGoods(type){\n        const page =this.goods[type].page+1;\n        getHomeGoods(type,page).then(res => {\n          this.goods[type].list.push(...res.data.list);\n          this.goods[type].page+=1;\n      })\n      },\n\n      tabClick(index){\n        switch (index) {\n            case 0: this.currentType='pop'\n                break;\n            case 1:this.currentType='new'\n                break;\n            case 2:this.currentType='sell'\n                break;\n        }\n      },\n\n      contentScroll(position){\n        this.isShowBackTop=(-position.y)>1000\n      },\n\n      loadMore(){\n        this.getHomeGoods(this.currentType)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .home-nav{\n    background-color: var(--color-tint);\n    color: white;\n  }\n  .tab-control {\n    position: sticky;\n    top: 44px;\n    z-index: 9;\n  }\n\n  .content {\n    overflow: hidden;\n\n    position: absolute;\n    top: 44px;\n    bottom: 49px;\n    left: 0;\n    right: 0;\n  }\n</style>\n"]}]}